{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","utils/constants.js","components/App.js","index.js"],"names":["Header","className","style","backgroundImage","headerLogo","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwned","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","src","link","alt","name","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","modalName","action","formName","onSubmit","noValidate","onClose","title","children","value","buttonValue","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","placeholder","id","required","minLength","maxLength","onChange","target","EditAvatarPopup","avatarInputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","api","options","this","_baseUrl","baseUrl","_authorization","headers","authorization","_contentType","res","ok","json","Promise","reject","status","fetch","then","_handleOriginalResponse","cardId","method","cardInfo","body","JSON","stringify","userInfoObj","avatarLink","App","setCurrentUser","getUserInfo","infoObj","catch","err","console","log","isEditProfilePopupOpen","changeEditProfilePopupState","isEditAvatarPopupOpen","changeEditAvatarPopupState","isAddPlacePopupOpen","changeAddPlacePopupState","emptySelectedCard","selectedCard","setSelectedCard","isSelectedCardOpen","changeSelectedCardState","closeAllPopups","setCards","getCardList","cardsArray","Provider","data","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","setUserInfo","avatarInfoObj","setUserAvatar","addNewCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.493c8480.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport headerLogo from '../images/logo.svg';\r\n\r\n\r\nfunction Header () {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\" style={{ backgroundImage: `url(${headerLogo})` }} ></div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header; ","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  const isOwned = props.card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete-btn ${isOwned \r\n    && 'element__delete-btn_visible'}`\r\n  );\r\n\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = (\r\n    `element__like ${isLiked \r\n    && 'element__like_is-liked'}`\r\n  );\r\n\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }  \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n\r\n  return (\r\n    <li className=\"card-element\">\r\n      <div className=\"element\">\r\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete} />\r\n        <img src={props.card.link} alt={props.card.name} className=\"element__image\" onClick={handleClick} />\r\n        <div className=\"element__caption\">\r\n          <p className=\"element__text\">{props.card.name} </p>\r\n          <div className=\"element__like-display\">\r\n            <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\r\n            <p className=\"element__like-counter\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n} \r\n\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n\r\n  //данные пользователя\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__description\">\r\n          <button className=\"profile__edit-avatar-btn\" onClick={props.onEditAvatar}>\r\n            <div className=\"profile__edit-btn-overlay\"></div>\r\n            <img src={currentUser.avatar} alt=\"аватар\" className=\"profile__avatar\" />\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <p className=\"profile__bio\">{currentUser.about}</p>\r\n            <button type=\"button\" className=\"profile__edit-btn\" onClick={props.onEditProfile} />\r\n          </div>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-btn\" onClick={props.onAddPlace} />\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((card) => (\r\n            <Card onCardDelete={props.onCardDelete} onCardLike={props.onCardLike} card={card} key={card._id} onCardClick={props.onCardClick} />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&#169; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={props.isOpen ? `modal_visible modal modal_${props.modalName}` : `modal modal_${props.modalName}`}>\r\n      <form action=\"#\" className={`modal__container modal__${props.formName}`} onSubmit={props.onSubmit} noValidate>\r\n        <button type=\"reset\" className=\"modal__reset-btn\" onClick={props.onClose} />\r\n        <fieldset className=\"modal__info-input\">\r\n          <legend className=\"modal__title\">{props.title}</legend>\r\n          {props.children}  \r\n        </fieldset>\r\n        <input type=\"submit\" className=\"modal__save-btn\" value={props.buttonValue} />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  \r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    \r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm modalName=\"type_edit-profile\" formName=\"edit-profile-form\" title=\"Редактировать профиль\" buttonValue=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\r\n        <label className=\"modal__input-field\">\r\n            <input type=\"text\" name=\"name\" placeholder=\"Имя\" className=\"modal__name modal__input-line\" id=\"input-name\" required minLength=\"2\" maxLength=\"40\" value={name} onChange={handleNameChange} />\r\n            <span className=\"modal__error\" id=\"input-name-error\"></span>\r\n        </label>\r\n        <label className=\"modal__input-field\">\r\n            <input type=\"text\" name=\"about\" placeholder=\"О вас\" className=\"modal__bio modal__input-line\" id=\"input-bio\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={handleDescriptionChange} />\r\n            <span className=\"modal__error\" id=\"input-bio-error\"></span>\r\n        </label>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarInputRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarInputRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm modalName=\"type_edit-avatar\" formName=\"edit-avatar-form\" title=\"Обновить аватар\" buttonValue=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <label className=\"modal__input-field\">\r\n        <input ref={avatarInputRef} type=\"url\" name=\"avatar\" placeholder=\"Ссылка на аватар\" className=\"modal__avatar-url modal__input-line\" id=\"input-avatar-url\" required />\r\n        <span className=\"modal__error\" id=\"input-avatar-url-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n  function handleLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name,\r\n      link\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm modalName=\"type_add-card\" formName=\"add-card-form\" title=\"Новое место\" buttonValue=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}> \r\n        <label className=\"modal__input-field\">\r\n          <input type=\"text\" name=\"title\" placeholder=\"Название\" className=\"modal__place-title modal__input-line\" id=\"input-place-title\" required minLength=\"1\" maxLength=\"30\" value={name} onChange={handleNameChange} />\r\n          <span className=\"modal__error\" id=\"input-place-title-error\"></span>\r\n        </label>\r\n        <label className=\"modal__input-field\">\r\n          <input type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" className=\"modal__image-url modal__input-line\" id=\"input-image-url\" required value={link} onChange={handleLinkChange} />\r\n          <span className=\"modal__error\" id=\"input-image-url-error\"></span>\r\n        </label>\r\n      </PopupWithForm> \r\n  )\r\n}\r\n\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  return (\r\n    <div className={props.isOpen ? `modal_visible modal modal_type_big-image` : 'modal modal_type_big-image'}>\r\n      <figure className=\"modal__figure\">\r\n        <button type=\"reset\" className=\"modal__reset-btn\" onClick={props.onClose} />\r\n        <img src={props.card.link} alt={props.card.name} className=\"modal__image\" />\r\n        <figcaption className=\"modal__caption\">{props.card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import {apiSettings} from './constants'\r\n\r\nclass Api {\r\n  \r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._authorization = options.headers.authorization; \r\n    this._contentType = options.headers[\"Content-Type\"];\r\n  }\r\n\r\n  _handleOriginalResponse(res) {\r\n    \r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._authorization\r\n        }\r\n    })\r\n    .then(this._handleOriginalResponse);\r\n  }\r\n\r\n  getCardList() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._authorization\r\n        }\r\n    })\r\n    .then(this._handleOriginalResponse);\r\n  }  \r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      //putCardLike\r\n\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          authorization: this._authorization\r\n          }\r\n      })\r\n      .then(this._handleOriginalResponse);\r\n    }\r\n    else {\r\n      //deleteCardLike\r\n\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._authorization\r\n          }\r\n      })\r\n      .then(this._handleOriginalResponse);\r\n    }\r\n  }\r\n  \r\n  addNewCard(cardInfo) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n        },\r\n      body: JSON.stringify(cardInfo)\r\n    })\r\n    .then(this._handleOriginalResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization\r\n        }\r\n    })\r\n    .then(this._handleOriginalResponse);\r\n  }\r\n\r\n  setUserInfo(userInfoObj) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify(userInfoObj)\r\n    })\r\n    .then(this._handleOriginalResponse);\r\n  }\r\n\r\n  setUserAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n        },\r\n      body: JSON.stringify(avatarLink)\r\n    })\r\n    .then(this._handleOriginalResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api(apiSettings);\r\n\r\nexport default api;  \r\n\r\n\r\n\r\n ","const apiSettings = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: 'fd3bf28b-131d-4028-93e3-e0966938f828',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport {apiSettings};\r\n\r\n","import React from 'react'; \r\nimport Header from '../components/Header';\r\nimport Main from '../components/Main';\r\nimport Footer from '../components/Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/Api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n  //получение данных пользователя\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    const userInfo = api.getUserInfo();\r\n    \r\n    userInfo\r\n    .then((infoObj) => {\r\n      \r\n      setCurrentUser(infoObj);\r\n    })\r\n    .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n    },\r\n    [] // вызовется только один раз при монтировании компонента\r\n  );\r\n\r\n  \r\n  //открытие и закрытие модалок\r\n  const [isEditProfilePopupOpen, changeEditProfilePopupState] = React.useState(false);\r\n  \r\n  const [isEditAvatarPopupOpen, changeEditAvatarPopupState] = React.useState(false);\r\n\r\n  const [isAddPlacePopupOpen, changeAddPlacePopupState] = React.useState(false);\r\n\r\n  const emptySelectedCard = \r\n    {\r\n      link: '#',\r\n      name: ''\r\n    }\r\n  const [selectedCard, setSelectedCard] = React.useState(emptySelectedCard);\r\n  const [isSelectedCardOpen, changeSelectedCardState] = React.useState(false);\r\n\r\n\r\n  function handleEditProfileClick() {\r\n    changeEditProfilePopupState(true);\r\n  }\r\n  \r\n  function handleEditAvatarClick() {\r\n    changeEditAvatarPopupState(true);\r\n  }\r\n  \r\n  function handleAddPlaceClick() {\r\n    changeAddPlacePopupState(true);\r\n  }\r\n\r\n  function handleCardClick(data) {\r\n    setSelectedCard(data);\r\n    changeSelectedCardState(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    changeEditProfilePopupState(false);\r\n    changeEditAvatarPopupState(false);\r\n    changeAddPlacePopupState(false);\r\n    setSelectedCard(emptySelectedCard);\r\n    changeSelectedCardState(false);\r\n  }\r\n\r\n\r\n  //редактирование профиля\r\n  function handleUpdateUser(userInfoObj) {\r\n    api.setUserInfo(userInfoObj)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n  }\r\n\r\n  function handleUpdateAvatar(avatarInfoObj) {\r\n    api.setUserAvatar(avatarInfoObj)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n  }\r\n\r\n\r\n  //карточки\r\n  const [cards, setCards] = React.useState([]);\r\n  \r\n  React.useEffect(() => {\r\n   \r\n    api.getCardList()\r\n    .then((cardsArray) => {\r\n      setCards(cardsArray);\r\n    })\r\n    .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n    },\r\n    [] // вызовется только один раз при монтировании компонента\r\n  );\r\n\r\n  \r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n    .then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      \r\n      setCards(newCards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n    .then((res) => {\r\n      console.log(res);\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n\r\n      setCards(newCards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(cardInfo) {\r\n\r\n    api.addNewCard(cardInfo)\r\n    .then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main \r\n          onEditProfile={handleEditProfileClick} \r\n          onEditAvatar={handleEditAvatarClick} \r\n          onAddPlace={handleAddPlaceClick}\r\n          cards={cards} \r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <Footer />  \r\n      </div>\r\n\r\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} /> \r\n    \r\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n\r\n      <PopupWithForm modalName=\"type_delete-confirm\" formName=\"delete-confirm-form\" title=\"Вы уверены?\" buttonValue=\"Да\" onClose={closeAllPopups} />  \r\n\r\n      <ImagePopup card={selectedCard} isOpen={isSelectedCardOpen} onClose={closeAllPopups} />\r\n   \r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}